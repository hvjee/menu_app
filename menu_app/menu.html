<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Меню</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.10/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.6.8/dist/axios.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-in {
      animation: fadeIn 0.4s ease-out forwards;
    }
    .fade-in-up {
      animation: fadeInUp 0.4s ease-out forwards;
    }
    .App {
      width: 100vw;
      min-height: 100vh;
      background: #fff7ed;
      overflow-x: hidden;
    }
    .App::-webkit-scrollbar {
      display: none;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      height: 60px;
      width: 100%;
      background: #fff7ed;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 101;
      box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.05);
    }
    .logo {
      color: #f97316;
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 1.8rem;
      text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }
    .logo:hover {
      transform: scale(1.05);
    }
    .shoppingCart {
      position: relative;
      width: 28px;
      height: 28px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }
    .shoppingCart .cart {
      font-size: 28px;
      color: #3f2c1d;
    }
    .shoppingCart .cart_content {
      width: 18px;
      height: 18px;
      background: #f97316;
      border-radius: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      position: absolute;
      right: -6px;
      top: -6px;
    }
    .shoppingCart .cart_content p {
      font-weight: 500;
      color: #ffffff;
      font-size: 10px;
      font-family: 'Inter', sans-serif;
    }
    .shoppingCart .noCartItem {
      display: none;
    }
    main {
      width: 100%;
      margin-top: 60px;
      padding: 16px;
      padding-bottom: 80px;
    }
    .mainContainer {
      width: 100%;
      max-width: 640px;
      margin: 0 auto;
      background: transparent;
    }
    .rowContainer {
      display: flex;
      align-items: center;
      overflow-x: auto;
      margin: 12px 0;
      padding: 8px 0;
      gap: 10px;
    }
    .rowContainer::-webkit-scrollbar {
      display: none;
    }
    .rowMenuCard {
      width: 110px;
      min-width: 110px;
      height: 44px;
      border-radius: 8px;
      background: #fff7ed;
      border: 1px solid transparent;
      margin-right: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .rowMenuCard.active {
      background: #f97316;
      border: 1px solid #f97316;
      color: #ffffff;
    }
    .rowMenuCard:hover {
      background: #fed7aa;
    }
    .rowMenuCard h3 {
      font-size: 14px;
      font-weight: 500;
      color: #3f2c1d;
      font-family: 'Inter', sans-serif;
      text-align: center;
    }
    .rowMenuCard.active h3 {
      color: #ffffff;
    }
    .dishItemContainer {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      justify-items: center;
    }
    .itemCard {
      width: 180px;
      height: 220px;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: center;
      margin: 8px;
      border: 1px solid rgba(249, 115, 22, 0.2);
      border-radius: 10px;
      background: #ffffff;
    }
    .itemCard:hover .imgBox {
      transform: scale(1.05);
    }
    .itemCard .imgBox {
      position: absolute;
      top: -12px;
      width: 110px;
      height: 110px;
      border-radius: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: transform 0.3s;
      box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
    }
    .itemCard .imgBox img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 100vw;
    }
    .itemContent {
      width: 100%;
      background: #ffffff;
      padding: 10px;
      padding-top: 60px;
      border-radius: 10px;
    }
    .itemContent .itemName {
      font-size: 16px;
      color: #3f2c1d;
      font-family: 'Inter', sans-serif;
      font-weight: 500;
    }
    .itemContent .bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
    }
    .itemContent .bottom .price {
      font-size: 14px;
      color: #6b4e31;
      font-family: 'Inter', sans-serif;
    }
    .itemContent .bottom .price span {
      color: #f97316;
      font-size: 12px;
    }
    .itemContent .bottom .quantity {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .itemContent .bottom .quantity button {
      background: #f97316;
      width: 28px;
      height: 28px;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #ffffff;
      font-size: 16px;
      font-family: 'Inter', sans-serif;
      transition: background-color 0.3s, transform 0.2s;
    }
    .itemContent .bottom .quantity button:hover {
      background: #ea580c;
      transform: scale(1.05);
    }
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(63, 44, 29, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 200;
      animation: fadeIn 0.4s ease-out;
    }
    .modal-content {
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.15);
    }
    .cartItem {
      display: flex;
      align-items: center;
      margin: 8px 0;
    }
    .cartItem .imgBox {
      width: 60px;
      min-width: 60px;
      height: 60px;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .cartItem .imgBox img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 8px;
    }
    .cartItem .itemSection {
      margin-left: 10px;
      flex: 1;
    }
    .cartItem .itemSection .itemName {
      font-size: 16px;
      color: #3f2c1d;
      font-family: 'Inter', sans-serif;
      font-weight: 500;
    }
    .cartItem .itemSection .itemQuantity {
      font-size: 14px;
      color: #3f2c1d;
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 90px;
    }
    .cartItem .itemSection .itemQuantity span {
      color: #f97316;
    }
    .cartItem .itemSection .itemQuantity .quantity {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 70px;
    }
    .cartItem .itemPrice {
      font-size: 14px;
      font-weight: 500;
      color: #3f2c1d;
      margin-left: auto;
      font-family: 'Inter', sans-serif;
    }
    .cartItem .itemPrice .dolorSign {
      font-size: 12px;
      color: #f97316;
    }
    .cartItem .itemPrice .itemPriceValue {
      font-size: 14px;
      color: #6b4e31;
    }
    .totalSection {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 8px;
      margin: 16px 0;
    }
    .totalSection h3 {
      font-size: 18px;
      font-weight: 500;
      color: #3f2c1d;
      font-family: 'Inter', sans-serif;
    }
    .totalSection p {
      font-size: 18px;
      font-weight: 500;
      color: #3f2c1d;
      font-family: 'Inter', sans-serif;
    }
    .totalSection p span {
      font-size: 14px;
      color: #f97316;
    }
    @media (max-width: 650px) {
      header {
        height: 50px;
      }
      .logo {
        font-size: 1.4rem;
      }
      .itemCard {
        width: 180px;
        height: 220px;
      }
      .itemCard .imgBox {
        width: 110px;
        height: 110px;
      }
      .itemContent {
        padding-top: 60px;
      }
    }
    @media (min-width: 650px) {
      .itemCard {
        width: 210px;
        height: 250px;
      }
      .itemCard .imgBox {
        width: 130px;
        height: 130px;
      }
      .itemContent {
        padding-top: 70px;
      }
    }
    @media (min-width: 950px) {
      .mainContainer {
        max-width: 720px;
      }
      .itemCard {
        width: 230px;
        height: 270px;
      }
      .itemCard .imgBox {
        width: 130px;
        height: 130px;
      }
    }
  </style>
</head>
<body class="bg-[#fff7ed]">
  <div id="root"></div>
  <script type="text/babel">
    const translations = {
      title: '',
      category_all: 'Все',
      category_buger01: 'Шашлыки',
      category_pizza01: 'Салаты',
      category_hotdog01: 'Десерты',
      category_drink01: 'Напитки',
      category_lim02: 'Лимонады',
      category_tea02: 'Чай',
      no_dishes: 'Блюда в этой категории отсутствуют',
      currency: 'тг',
      cart_title: 'Ваш заказ',
      table_label: 'Номер стола',
      table_placeholder: 'Выберите стол (1-10)',
      cart_empty: 'Корзина пуста',
      cart_item: '{{name}} x{{quantity}} - {{total}} {{currency}}',
      cart_total: 'Итого: {{total}} {{currency}}',
      cart_button: 'Корзина ({{count}})',
      submit_order: 'Отправить заказ',
      close_cart: 'Закрыть',
      clear_cart: 'Очистить корзину',
      success_message: 'Заказ успешно отправлен',
      error_validation: 'Выберите стол и хотя бы одно блюдо',
      error_telegram: 'Ошибка отправки заказа. Попробуйте позже'
    };

    const MenuItems = [
      { id: 1, itemId: 'buger01', name: 'Шашлыки' },
      { id: 2, itemId: 'pizza01', name: 'Салаты' },
      { id: 3, itemId: 'hotdog01', name: 'Десерты' },
      { id: 4, itemId: 'drink01', name: 'Напитки' },
      { id: 5, itemId: 'lim02', name: 'Лимонады' },
      { id: 6, itemId: 'tea02', name: 'Чай' }
    ];

    const Items = [
      { id: 1, itemId: 'buger01', name: 'Кусковой', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%88%D0%B0%D1%88%D0%BB%D1%8B%D0%BA.png?alt=media&token=ed03aab6-7e4e-4cef-b37e-8699a56d47e8' },
      { id: 2, itemId: 'buger01', name: 'Фарш', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%84%D0%B0%D1%80%D1%88.png?alt=media&token=547eeeca-aba6-4b03-9287-600e17ed4320' },
      { id: 3, itemId: 'buger01', name: 'Тауық', price: '750', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BA%D1%83%D1%80%D0%B8%D0%BD%D1%8B%D0%B9.png?alt=media&token=a0d9ddc0-3b87-41d5-b25c-0d221250ddd9' },
      { id: 4, itemId: 'buger01', name: 'Қабырға', price: '950', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%80%D0%B5%D0%B1%D1%80%D0%B0.png?alt=media&token=11e4bde3-9231-44bf-aa54-f09b1310f3b8' },
      { id: 5, itemId: 'buger01', name: 'Бауыр', price: '500', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%B1%D0%B0%D1%83%D1%8B%D1%80.png?alt=media&token=e89ca806-ff6d-4a3c-97b2-4642c3e945cb' },
      { id: 6, itemId: 'buger01', name: 'Балық', price: '500', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%80%D1%8B%D0%B1%D0%B0.png?alt=media&token=06fb7951-30d1-4194-acfb-486e46c85b13' },
      { id: 7, itemId: 'buger01', name: 'Крылышки', price: '850', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%88%D0%B0%D1%88%D0%BB%D1%8B%D0%BA.png?alt=media&token=ed03aab6-7e4e-4cef-b37e-8699a56d47e8' },
      { id: 8, itemId: 'pizza01', name: 'Ачи-Чук', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%B0%D1%87%D0%B8%D1%87%D1%83%D0%BA.png?alt=media&token=e1faa9ec-6d08-46b3-bcc3-1d124a27396b' },
      { id: 9, itemId: 'pizza01', name: 'Фруктовый', price: '1300', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%84%D1%80%D1%83%D0%BA%D1%82%D0%BE%D0%B2%D1%8B%D0%B9.png?alt=media&token=22263c0d-a9be-4d08-8eaf-b85cad452614' },
      { id: 10, itemId: 'pizza01', name: 'Свежый салат', price: '1000', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%81%D0%B2%D0%B5%D0%B6%D0%B8%D0%B9.png?alt=media&token=5453510b-79cc-4877-bc43-e7ff0aad259e' },
      { id: 11, itemId: 'pizza01', name: 'Греческий', price: '1300', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%B3%D1%80%D0%B5%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9.png?alt=media&token=0cacf0dd-c589-4988-91fe-d0d1aa0e1bdc' },
      { id: 12, itemId: 'pizza01', name: 'Мужской каприз', price: '1300', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BC%D1%83%D0%B6%D1%81%D0%BA%D0%BE%D0%B9.png?alt=media&token=84d98b26-c62b-4c92-87f9-69a668fef25d' },
      { id: 47, itemId: 'pizza01', name: 'Цезарь', price: '1300', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%86%D0%B5%D0%B7%D0%B0%D1%80%D1%8C.png?alt=media&token=55c90e0d-e2f0-4775-b14b-79f593383aa3' },
      { id: 48, itemId: 'pizza01', name: 'Острый Пикантный', price: '1500', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BE%D1%81%D1%82%D1%80%D1%8B%D0%B9.png?alt=media&token=c34b27b7-6cc3-45b6-aed7-707d60eba42b' },
      { id: 13, itemId: 'hotdog01', name: 'Вупи-Пай', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%B2%D1%83%D0%BF%D0%B8%D0%BF%D0%B0%D0%B9.png?alt=media&token=eafad606-a4ba-4040-921e-11bcc6433c42' },
      { id: 14, itemId: 'hotdog01', name: 'Красный бархат', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BA%D1%80%D0%B0%D1%81%D0%BD%D1%8B%D0%B9.png?alt=media&token=183a0546-bd8a-4683-b73e-d36610cfbb22' },
      { id: 15, itemId: 'hotdog01', name: 'Сникерс', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%81%D0%BD%D0%B8%D0%BA%D0%B5%D1%80%D1%81.png?alt=media&token=c14a1fcd-9074-47f7-b6c1-4cfef47a2e4e' },
      { id: 16, itemId: 'hotdog01', name: 'Трайфл', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%82%D1%80%D0%B0%D0%B9%D1%84%D0%BB.png?alt=media&token=8ca8b031-13d0-41f2-a0c2-6c05d916999c' },
      { id: 17, itemId: 'hotdog01', name: 'Медовый', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BC%D0%B5%D0%B4%D0%BE%D0%B2%D1%8B%D0%B9.png?alt=media&token=5f14d8dd-b2c1-47e3-88e4-b7bb17320498' },
      { id: 18, itemId: 'hotdog01', name: 'Молочная девочка', price: '700', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%B1%D0%B5%D0%BB%D0%B0%D1%8F.png?alt=media&token=da947112-21f5-403b-93ff-32c1f9dfe9b1' },
      { id: 31, itemId: 'drink01', name: 'Coca Cola', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BA%D0%BE%D0%BB%D0%B0.png?alt=media&token=fed80c82-18fe-4bcd-a861-bc65980db5d7' },
      { id: 32, itemId: 'drink01', name: 'Pepsi', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BF%D0%B5%D0%BF%D1%81%D0%B8.png?alt=media&token=f7d5000f-a3ff-4082-83ab-fa1dc37e4c0a' },
      { id: 33, itemId: 'drink01', name: 'Fanta', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%84%D0%B0%D0%BD%D1%82%D0%B0.png?alt=media&token=a15e9cc2-c9d7-4964-b40a-efade3b0114e' },
      { id: 34, itemId: 'drink01', name: 'Sprite', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%81%D0%BF%D1%80%D0%B0%D0%B9%D1%82.png?alt=media&token=7ee292f4-ca11-4621-96f2-cd0ea233af43' },
      { id: 35, itemId: 'drink01', name: 'Fuse tea', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%A4%D0%AE%D0%A1.png?alt=media&token=2efb8733-fa15-4219-aaa3-048887e0b4c8&_gl=1*1nvn3hb*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjY4NjcxNy4xLjEuMTY5NjY4NzI3My4zMC4wLjA.' },
      { id: 36, itemId: 'drink01', name: 'Maxi Чай', price: '550', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BC%D0%B0%D0%BA%D1%81%D0%B8.png?alt=media&token=2b413ef4-df6b-4b92-b755-126c8f62f1e1&_gl=1*1qguoxc*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjY4NjcxNy4xLjEuMTY5NjY4ODA1MS4xNS4wLjA.' },
      { id: 37, itemId: 'drink01', name: 'Пико', price: '600', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BF%D0%B8%D0%BA%D0%BE.png?alt=media&token=da8a3635-2c92-48cd-9193-c4a83af2fad3&_gl=1*br0fla*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjY4NjcxNy4xLjEuMTY5NjY4NzMyOS40My4wLjA.' },
      { id: 38, itemId: 'lim02', name: 'Мохито', price: '1300', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%9C%D0%9E%D0%A5%D0%98%D0%A2%D0%9E.png?alt=media&token=387a97e3-a9ff-45e3-9b32-a47387c7c3aa&_gl=1*ttbmfo*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjY4NjcxNy4xLjEuMTY5NjY4NzI0My42MC4wLjА.' },
      { id: 39, itemId: 'lim02', name: 'Клубничный', price: '1300', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%9A%D0%9B%D0%A3%D0%91%D0%9D%D0%98%D0%9A%D0%90.png?alt=media&token=e3bc47c4-2e31-4c17-97b2-d8c941a434cb&_gl=1*1stkf37*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjY4NjcxNy4xLjEuMTY5NjY4NjkxOS42MC4wLjА.' },
      { id: 40, itemId: 'tea02', name: 'Ташкенский', price: '450', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%82%D0%B0%D1%88%D0%BA%D0%B5%D0%BD%D1%81%D0%BA%D0%B8%D0%B9.png?alt=media&token=7715de13-5cdf-48ec-a1cb-f317b7691311&_gl=1*1pi7l6e*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjcwNDA5MS4yLjEuMTY5NjcwNDI0NS4zMi4wLjА.' },
      { id: 41, itemId: 'tea02', name: 'Черный чай', price: '350', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%87%D0%B5%D1%80%D0%BD%D1%8B%D0%B9.png?alt=media&token=ec69d0e5-49e2-4024-9021-3e87722f437d&_gl=1*17k82wq*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjcwNDA5MS4yLjEuMTY5NjcwNDI2Ny4xMC4wLjА.' },
      { id: 42, itemId: 'tea02', name: 'Зеленый чай', price: '350', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%B7%D0%B5%D0%BB%D0%B5%D0%BD%D1%8B%D0%B9.png?alt=media&token=8ae3209d-6c52-4562-9c37-4d9ef9944209&_gl=1*yal2bf*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjcwNDA5MS4yLjEuMTY5NjcwNDMxMC4zNC4wLjА.' },
      { id: 43, itemId: 'tea02', name: 'С молоком', price: '500', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D1%81%D0%BC%D0%BE%D0%BB%D0%BE%D0%BA%D0%BE%D0%BC.png?alt=media&token=316a5589-2ae0-4a64-b00f-1f3819dbd91b&_gl=1*1euqcq1*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjcwNDA5MS4yLjEuMTY5NjcwNDIxNy42MC4wLjА.' },
      { id: 44, itemId: 'tea02', name: 'Кофе 3/1', price: '200', imgSrc: 'https://firebasestorage.googleapis.com/v0/b/ules-e5ea3.appspot.com/o/%D0%BA%D0%BE%D1%84%D0%B5.png?alt=media&token=3eb349b9-6ad7-4994-a12d-3c7cdb4af77a&_gl=1*1gjr886*_ga*NzAwMzM4NDUzLjE2OTY2ODY3MDI.*_ga_CW55HF8NVT*MTY5NjcwNDA5MS4yLjEuMTY5NjcwNDI4NC42MC4wLjА.' }
    ];

    const DishCard = React.memo(({ dish, addToCart, removeFromCart, cart }) => {
      const quantity = cart.find(item => item.id === dish.id)?.quantity || 0;
      return (
        <div className="itemCard fade-in-up" style={{ animationDelay: `${dish.id * 0.1}s` }}>
          <div className="imgBox">
            <img 
              src={dish.imgSrc} 
              alt={dish.name} 
              onError={(e) => { e.target.src = 'https://via.placeholder.com/130'; }}
            />
          </div>
          <div className="itemContent">
            <h3 className="itemName">{dish.name}</h3>
            <div className="bottom">
              <div className="price">
                <span>{translations.currency}</span> {dish.price}
              </div>
              <div className="quantity">
                {quantity > 0 && (
                  <button onClick={() => removeFromCart(dish.id)}>-</button>
                )}
                {quantity > 0 && <span>{quantity}</span>}
                <button onClick={() => addToCart(dish)}>+</button>
              </div>
            </div>
          </div>
        </div>
      );
    });

    const Cart = React.memo(({ cart, table, setTable, submitOrder, closeCart, clearCart }) => {
      const total = cart.reduce((sum, item) => sum + parseInt(item.price) * item.quantity, 0);
      return (
        <div className="modal" onClick={closeCart}>
          <div className="modal-content" onClick={e => e.stopPropagation()}>
            <h2 className="text-xl font-medium text-[#3f2c1d] font-inter mb-4">{translations.cart_title}</h2>
            <div className="mb-4">
              <label className="block text-[#3f2c1d] font-medium font-inter mb-1">{translations.table_label}</label>
              <select
                value={table}
                onChange={(e) => setTable(e.target.value)}
                className="w-full p-2 border border-[#f97316] rounded-md focus:ring-1 focus:ring-[#f97316] focus:outline-none font-inter text-[#3f2c1d]"
              >
                <option value="">{translations.table_placeholder}</option>
                {[...Array(10)].map((_, i) => (
                  <option key={i + 1} value={i + 1}>{i + 1}</option>
                ))}
              </select>
            </div>
            {cart.length === 0 ? (
              <p className="text-[#6b4e31] font-inter">{translations.cart_empty}</p>
            ) : (
              <div>
                {cart.map(item => (
                  <div key={item.id} className="cartItem">
                    <div className="imgBox">
                      <img src={item.imgSrc} alt={item.name} />
                    </div>
                    <div className="itemSection">
                      <h2 className="itemName">{item.name}</h2>
                      <div className="itemQuantity">
                        <div className="quantity">
                          <span className="itemRemove" onClick={() => removeFromCart(item.id)}>-</span>
                          <span>{item.quantity}</span>
                          <span className="itemAdd" onClick={() => addToCart(item)}>+</span>
                        </div>
                      </div>
                    </div>
                    <div className="itemPrice">
                      <span className="dolorSign">{translations.currency}</span>
                      <span className="itemPriceValue">{parseInt(item.price) * item.quantity}</span>
                    </div>
                  </div>
                ))}
                <div className="totalSection">
                  <h3>{translations.cart_total.split(':')[0]}</h3>
                  <p><span>{translations.currency}</span> {total}</p>
                </div>
              </div>
            )}
            <div className="flex gap-4 mt-4">
              <button
                onClick={clearCart}
                className="w-full p-2 bg-[#e5e7eb] text-[#3f2c1d] rounded-md font-inter font-medium hover:bg-[#d1d5db] transition-all"
                disabled={cart.length === 0}
              >
                {translations.clear_cart}
              </button>
              <button
                onClick={closeCart}
                className="w-full p-2 bg-[#e5e7eb] text-[#3f2c1d] rounded-md font-inter font-medium hover:bg-[#d1d5db] transition-all"
              >
                {translations.close_cart}
              </button>
              <button
                onClick={submitOrder}
                disabled={!table || cart.length === 0}
                className={`w-full p-2 rounded-md font-inter font-medium transition-all ${
                  !table || cart.length === 0
                    ? 'bg-[#e5e7eb] text-[#6b4e31] cursor-not-allowed'
                    : 'bg-[#f97316] text-[#ffffff] hover:bg-[#ea580c]'
                }`}
              >
                {translations.submit_order}
              </button>
            </div>
          </div>
        </div>
      );
    });

    function App() {
      const [selectedCategory, setSelectedCategory] = React.useState('all');
      const [cart, setCart] = React.useState(() => {
        const saved = localStorage.getItem('cart');
        return saved ? JSON.parse(saved) : [];
      });
      const [table, setTable] = React.useState('');
      const [submitted, setSubmitted] = React.useState(false);
      const [error, setError] = React.useState(null);
      const [loading, setLoading] = React.useState(false);
      const [isCartOpen, setIsCartOpen] = React.useState(false);

      React.useEffect(() => {
        localStorage.setItem('cart', JSON.stringify(cart));
      }, [cart]);

      const addToCart = (dish) => {
        setCart(prev => {
          const existing = prev.find(item => item.id === dish.id);
          if (existing) {
            return prev.map(item =>
              item.id === dish.id ? { ...item, quantity: item.quantity + 1 } : item
            );
          }
          return [...prev, { ...dish, quantity: 1 }];
        });
      };

      const removeFromCart = (dishId) => {
        setCart(prev => {
          const existing = prev.find(item => item.id === dishId);
          if (existing.quantity === 1) {
            return prev.filter(item => item.id !== dishId);
          }
          return prev.map(item =>
            item.id === dishId ? { ...item, quantity: item.quantity - 1 } : item
          );
        });
      };

      const clearCart = () => {
        setCart([]);
        setTable('');
      };

      const submitOrder = async () => {
        if (!table || cart.length === 0) {
          setError(translations.error_validation);
          return;
        }

        setLoading(true);
        setError(null);

        const total = cart.reduce((sum, item) => sum + parseInt(item.price) * item.quantity, 0);
        const items = cart
          .map(item => `- ${item.name} x${item.quantity}: ${parseInt(item.price) * item.quantity} ${translations.currency}`)
          .join('\n');
        const telegramMessage = `<b>🔔 Новый заказ:</b>\n📍 Стол: ${table}\n🍽️ Блюда:\n${items}\n💰 Итого: ${total} ${translations.currency}\n⌛ Дата: ${new Date().toLocaleString('ru-RU')}`;

        try {
          const response = await axios.post('https://api.telegram.org/bot7272677856:AAGeXk1TFE5pR_ZUAl4DM4lMAYEtHId6MBU/sendMessage', {
            chat_id: '-1002811012683',
            text: telegramMessage,
            parse_mode: 'HTML'
          });
          if (response.status === 200) {
            setSubmitted(true);
            setCart([]);
            setTable('');
            setIsCartOpen(false);
            setTimeout(() => setSubmitted(false), 2000);
          }
        } catch (error) {
          console.error('Ошибка отправки в Telegram:', error);
          setError(translations.error_telegram);
        } finally {
          setLoading(false);
        }
      };

      const filteredDishes = selectedCategory === 'all'
        ? Items
        : Items.filter(dish => dish.itemId === selectedCategory);

      const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);

      return (
        <div className="App">
          <header>
            <div className="logo">Улес кәуапхана</div>
            <div className="shoppingCart" onClick={() => setIsCartOpen(true)}>
              <span className="cart">🛒</span>
              <div className={cartCount > 0 ? 'cart_content' : 'cart_content noCartItem'}>
                <p>{cartCount}</p>
              </div>
            </div>
          </header>
          <main>
            <div className="mainContainer">
              {submitted && (
                <p className="text-[#f97316] text-center mb-4 font-medium font-inter fade-in">{translations.success_message}</p>
              )}
              {error && (
                <p className="text-red-500 text-center mb-4 font-medium font-inter fade-in">{error}</p>
              )}
              {loading && (
                <p className="text-[#f97316] text-center mb-4 font-medium font-inter fade-in">Загрузка...</p>
              )}
              <div className="rowContainer">
                {[{ itemId: 'all', name: translations.category_all }, ...MenuItems].map(category => (
                  <div
                    key={category.itemId}
                    className={`rowMenuCard ${selectedCategory === category.itemId ? 'active' : ''}`}
                    onClick={() => setSelectedCategory(category.itemId)}
                  >
                    <h3>{category.name}</h3>
                  </div>
                ))}
              </div>
              <div className="dishItemContainer">
                {filteredDishes.length > 0 ? (
                  filteredDishes.map((dish) => (
                    <DishCard
                      key={dish.id}
                      dish={dish}
                      addToCart={addToCart}
                      removeFromCart={removeFromCart}
                      cart={cart}
                    />
                  ))
                ) : (
                  <p className="text-center text-[#6b4e31] col-span-full font-inter fade-in">{translations.no_dishes}</p>
                )}
              </div>
            </div>
          </main>
          {isCartOpen && (
            <Cart
              cart={cart}
              table={table}
              setTable={setTable}
              submitOrder={submitOrder}
              closeCart={() => setIsCartOpen(false)}
              clearCart={clearCart}
            />
          )}
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>